@model StaffManagement.Models.Employee
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="mb-4">Edit Employee</h2>

<form asp-action="Edit" method="post" enctype="multipart/form-data"  class="row g-3">

    <!-- hidden ID -->
    <input type="hidden" asp-for="Id" />
    <!-- hidden UserId -->
    <input type="hidden" asp-for="UserId" />

    <div class="col-md-6">
        <label class="form-label">Full Name</label>
        <input asp-for="FullName" class="form-control" />
        <span class="text-danger" asp-validation-for="FullName"></span>
    </div>

    <div class="col-md-6">
        <label class="form-label">Email</label>
        <input asp-for="Email" class="form-control" />
        <span class="text-danger" asp-validation-for="Email"></span>
    </div>

    <div class="col-md-6">
        <label class="form-label">Phone Number</label>
        <input asp-for="PhoneNumber" class="form-control" />
        <span class="text-danger" asp-validation-for="PhoneNumber"></span>
    </div>

    <div class="col-md-3">
        <label class="form-label">Salary</label>
        <input asp-for="Salary" class="form-control" />
        <span class="text-danger" asp-validation-for="Salary"></span>
    </div>

    <div class="col-md-6">
        <label asp-for="HireDate" class="form-label"></label>
        <input asp-for="HireDate" type="date" class="form-control" />
        <span class="text-danger" asp-validation-for="HireDate"></span>
    </div>

    <div class="col-md-6">
        <label class="form-label">Position</label>
        <input asp-for="Position" class="form-control" />
        <span class="text-danger" asp-validation-for="Position"></span>
    </div>

    <div class="col-md-6">
        <label class="form-label">Department</label>
        <input asp-for="Department" class="form-control" />
        <span class="text-danger" asp-validation-for="Department"></span>
    </div>

    <div class="col-md-6">
        <label asp-for="DateOfBirth" class="form-label"></label>
        <input asp-for="DateOfBirth" type="date" class="form-control" />
        <span class="text-danger" asp-validation-for="DateOfBirth"></span>
    </div>

    <div class="col-12">
        <button class="btn btn-warning">Update</button>
        <a asp-action="Index" class="btn btn-secondary">Back</a>
    </div>
    <div>
        <label>Profile Image</label><br />

        @if (Model.ImageData != null)
        {
            <img src="@(Model.ImageData != null ? $"data:{Model.ImageType};base64,{Convert.ToBase64String(Model.ImageData)}" : "")"
                 alt="Profile Image" style="max-width:150px; max-height:150px;" />
        }

        <input type="file" asp-for="ClientFile" />
    </div>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
